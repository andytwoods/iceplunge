{% extends "base.html" %}
{% load i18n static %}

{% block title %}{% translate "Try:" %} {{ task_label }}{% endblock title %}

{% block javascript %}
  {{ block.super }}
  <script src="{% static 'tasks/js/task_core.js' %}"></script>
{% endblock javascript %}

{% block bodyclass %}task-page{% endblock bodyclass %}

{% block body %}
<div class="task-fullscreen-wrapper">
  <script>
    var TASK_SUBMIT_URL = "{% url 'tasks:submit_result' %}";
    var SESSION_META_URL = "{% url 'tasks:session_meta' %}";
    var TASK_COMPLETE_URL = "";
    var TASK_HUB_URL = "";
    var TASK_SKIP_URL = "";
    var TASK_IS_PRACTICE = true;
    var TASK_CONFIG = {
      seed: "{{ session.random_seed }}",
      taskType: "{{ task_type }}",
      taskLabel: "{{ task_label }}",
      taskVersion: "1.0"
    };
  </script>

  <div class="task-fullscreen-header">
    <span class="task-fullscreen-title">{{ task_label }}</span>
  </div>

  <div class="task-practice-banner">
    <span class="icon mr-2"><i class="fas fa-flask"></i></span>
    <strong>{% translate "PRACTICE RUN â€” your results will not be saved" %}</strong>
  </div>

  <div class="task-fullscreen-body">
    {% if task_type == "pvt" %}
      {% include "tasks/partials/_pvt.html" %}
    {% elif task_type == "sart" %}
      {% include "tasks/partials/_sart.html" %}
    {% elif task_type == "mood" %}
      {% include "tasks/partials/_mood.html" %}
    {% elif task_type == "flanker" %}
      {% include "tasks/partials/_flanker.html" %}
    {% elif task_type == "digit_symbol" %}
      {% include "tasks/partials/_digit_symbol.html" %}
    {% else %}
      <div class="notification is-warning">
        {% blocktranslate with task=task_label %}Unknown task: {{ task }}.{% endblocktranslate %}
      </div>
    {% endif %}
  </div>
</div>
{% endblock body %}

{% block inline_javascript %}
<script>
  TaskCore.init("{{ session.id }}", "{{ csrf_token }}");
</script>
{% endblock inline_javascript %}
